<div class="jumbotron">
  <h1>Essay Marker</h1>
  <p class="lead">
    The Ultimate Tool For Grading Student Papers
  </p>
</div>

<div class="row ">

  <!-- grading -->
  <div class="col-sm-5">
    <div class="row">
      <div class="col-sm-8">
        Current Grade: {{$storage.sPaper.total / $storage.sPaper.totalPoints*100 | number:1}}%
      </div>
      <div class="col-sm-4">
        Words: {{getWordCount()}}
      </div>
    </div>
    <!-- Student Name -->
    <div class="row">
      <div class="col-sm-9">
        <input type="text" class="form-control" ng-model="$storage.sPaper.studentName" placeholder="Student's Full Name"></input>
      </div>  
      <div class="col-sm-3">
        <input type="text" class="form-control" ng-model="$storage.sPaper.studentGroup" placeholder="Group"></input>
      </div>    
    </div>

    <div class="row">
      <div class="col-sm-12">
        <input type="text" class="form-control" ng-model="$storage.sPaper.title" placeholder="Title of the Essay"></input>
      </div>
    </div>
    
    <!-- text of the essay -->
    <div class="textAngular my-small-area" ta-toolbar=[['h1','h2','h3'],['bold','italics','underline']] text-angular ng-model="$storage.sPaper.text">
      <textarea></textarea>
    </div>
  </div>
  
  <div class="col-sm-7">
    {{$storage.sPaper.total}}
    <div class="row">
      <button class="btn btn-secondary btn-group" ng-class="{'btn-primary':is(1)}" ng-click="section(1)">Comments</button>
      <button class="btn btn-secondary btn-group " ng-click="section(2)" ng-class="{'btn-primary':is(2)}">Errors</button>
      <button class="btn btn-secondary btn-group " ng-click="section(3) " ng-class="{'btn-primary':is(3)}">Grade</button>
      <button class="btn btn-secondary btn-group " ng-click="section(4)" ng-class="{'btn-primary':is(4)}">RegEx</button>
      <button class="btn btn-secondary btn-group " ng-click="section(5)" ng-class="{'btn-primary':is(5)}">Plagiarism</button>
      <button class="btn btn-secondary btn-group " ng-click="section(6)" ng-class="{'btn-primary':is(6)}">New Comment</button>
    </div>
    <div class="row" ng-switch on="thisSection">
      <div class="allComments" ng-switch-when="1" >
          <ng-include src="'views/commentsView.html'"></ng-include>
      </div>
    <!-- Auto Grading Options -->
      <div class="row" ng-switch-when="2">
          <ng-include src="'views/errorList.html'"></ng-include>
      </div>
      <div ng-switch-when="3">
          <ng-include src="'views/autoGrading.html'"></ng-include>
      </div>
      <div ng-switch-when="4">
          <ng-include src="'views/checkExpressions.html'"></ng-include>
      </div>
      <!-- Plaigarism Checker -->
      <div class="row-fluid" ng-switch-when="5">
          <iframe src="http://www.paperrater.com/plagiarism_checker/" style="zoom:0.60" width="55%" height="800" frameborder="0" width="100%"
          class="container well"></iframe>
      </div>
      <!-- Check Expressions -->
      <div ng-switch-when="6">
          <ng-include src="'views/createNewComment.html'"></ng-include>
      </div>
    </div>

</div>
<!-- Feedback -->
  
  <div class="row">
    <div class="col-sm-12">
      <div class="row">
        <button class="btn btn-default" ng-click="show=!show">Show / Hide Options</button>        
      </div>
    
    <label>Specific Feedback</label>
      <ul>
        
        <li ng-repeat="myFeed in $storage.sPaper.myFeedback">{{myFeed.comment}} {{myFeed.example ? '(EX: '+myFeed.example+')':''}}
        <button class="btn btn-danger" ng-click="removeFeedback($index)" ng-show="show">-</button>
        </li>
      </ul>
    <label>
      Additional Comments
    </label>
    <ul class="">
      <li ng-repeat="myComment in $storage.sPaper.myComments track by $index"> 
        <p>
        {{myComment.selectedComment}}
        
        <span ng-show="{{myComment.example.length>0}}">
        (Example: {{myComment.example}})
        </span>
        <button class="btn btn-danger" ng-click="removeComment(myComment)" ng-show="show">-</button>
        </p>
      </li>
    </ul>
    <!-- grading table -->
    <div class="row">
      <table class="table">
        <tr ng-repeat="category in $storage.sPaper.categories" >
            <td class="col-md-4">{{category.name}}</td>
            <td class="col-md-4">{{category.value < .5*defValue ? 'Needs Work':''}}</td>
            <td class="col-md-4"><strong>{{category.value.toFixed(1)}}</strong>
              <button class="btn btn-default" ng-click="category.value=category.value+decreaseBy" ng-show="show">+</button>
              <button class="btn btn-default" ng-click="category.value=category.value-decreaseBy" ng-show="show">-</button>
            </td>

        </tr>
        <tr>
          <td>Final Grade</td>
          <td></td>
          <td><strong>{{$storage.sPaper.total.toFixed(1)}} / {{$storage.sPaper.totalPoints}}</strong></td>
        </tr>
      </table>
    </div>
  </div>
  </div>
</div>
